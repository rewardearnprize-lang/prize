<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirecting...</title>
  <script>
    // نحصل على المعلمات من الرابط
    const urlParams = new URLSearchParams(window.location.search);
    const offerUrl = urlParams.get("url");
    const subid = urlParams.get("subid");
    const redirect = urlParams.get("redirect");

    if (offerUrl && subid) {
      // نضيف sub1 للمفتاح في رابط العرض
      let finalUrl;

      if (offerUrl.includes("?")) {
        finalUrl = `${offerUrl}&sub1=${subid}`;
      } else {
        finalUrl = `${offerUrl}?sub1=${subid}`;
      }

      // نفتح العرض في نافذة جديدة
      window.open(finalUrl, "_blank");

      // بعد 5 ثوانٍ، نرجع المستخدم لموقعك
      setTimeout(() => {
        window.location.href = redirect || "https://prize-xi.vercel.app/";
      }, 5000);
    } else {
      document.write("Missing parameters.");
    }
  </script>
</head>
<body style="background:#000; color:#fff; display:flex; align-items:center; justify-content:center; height:100vh;">
  <h2>Preparing your offer...</h2>
</body>
</html>
